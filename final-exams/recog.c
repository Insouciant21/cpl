#include <stdio.h>

char s[55][110];

const char _0[17][9 + 1] = {
  "..#####.",
  ".######.",
  "##....##",
  "##....##",
  "##.....#",
  "##.....#",
  "##.....#",
  "##.....#",
  "##.....#",
  "##.....#",
  "##.....#",
  "##.....#",
  "##.....#",
  "##....##",
  "##....##",
  ".######.",
  "..####.."
};

const char _1[17][9 + 1] = {
  "##",
  "##",
  "##",
  "##",
  "##",
  "##",
  "##",
  "##",
  "##",
  "##",
  "##",
  "##",
  "##",
  "##",
  "##",
  "##",
  "##",
};

const char _2[17][9 + 1] = {
  "..#####..",
  ".#######.",
  "##....##.",
  ".......##",
  "......##.",
  "......##.",
  "......##.",
  ".....##..",
  "....###..",
  "...###...",
  "...##....",
  "..###....",
  ".###.....",
  ".##......",
  "###......",
  "########.",
  "########."
};

const char _3[17][9 + 1] = {
  "########",
  "########",
  ".....###",
  "....###.",
  "...###..",
  "..###...",
  "..#####.",
  "..######",
  "......##",
  "......##",
  "......##",
  "......##",
  "##....##",
  "##....##",
  "###...##",
  ".######.",
  "..####.."
};

const char _4[17][9 + 1] = {
  ".....##..",
  "....###..",
  "....###..",
  "...####..",
  "...####..",
  "...####..",
  "..#####..",
  "..##.##..",
  ".###.##..",
  ".##..##..",
  ".##..##..",
  "##...##..",
  "#########",
  "#########",
  ".....##..",
  ".....##..",
  ".....##.."
};

const char _5[17][9 + 1] = {
  "########.",
  "########.",
  "##.......",
  "##.......",
  "##.......",
  "##.......",
  "#######..",
  "########.",
  "......###",
  ".......##",
  ".......##",
  ".......##",
  ".......##",
  "##.....##",
  ".##...###",
  ".#######.",
  "..#####.."
};

const char _6[17][9 + 1] = {
  ".....#...",
  "....##...",
  "...##....",
  "..###....",
  "..##.....",
  ".##......",
  ".##......",
  ".#####...",
  "#######..",
  "###...##.",
  "##....##.",
  "##.....##",
  "##.....##",
  "##.....##",
  "###...##.",
  ".#######.",
  "..####..."
};

const char _7[17][9 + 1] = {
  "#########",
  "#########",
  ".......#.",
  "......##.",
  "......##.",
  ".....##..",
  ".....##..",
  ".....#...",
  "....##...",
  "....##...",
  "....##...",
  "...##....",
  "...##....",
  "...##....",
  "...##....",
  "...##....",
  "...##....",
};

const char _8[17][9 + 1] = {
  "..#####..",
  ".##...##.",
  "##.....#.",
  "##.....#.",
  "##.....#.",
  "##....##.",
  ".##..###.",
  "..#####..",
  ".#######.",
  "##....##.",
  "##.....##",
  "##.....##",
  "##.....##",
  "##.....##",
  "###..###.",
  ".######..",
  "...###..."
};

const char _9[17][9 + 1] = {
  ".######..",
  ".##..###.",
  "##....##.",
  "##.....##",
  "##.....##",
  "##.....##",
  "##....##.",
  ".#######.",
  "..######.",
  ".....###.",
  ".....##..",
  "....###..",
  "....##...",
  "...##....",
  "..###....",
  ".###.....",
  "........."
};

struct Number {
    const char (*p)[10];
    int n;
    int m;
};

struct Number numbers[] = {
  {_0, 17, 8},
  {_1, 17, 2},
  {_2, 17, 9},
  {_3, 17, 8},
  {_4, 17, 9},
  {_5, 17, 9},
  {_6, 17, 9},
  {_7, 17, 9},
  {_8, 17, 9},
  {_9, 17, 9},
};
int ans[5], ans_count = 0;
void recoginze(int l, int r)
{
    int upper = -1, lower = 51;
    for (int i = 0; i < 50; i++)
    {
        for (int j = l; j <= r; j++)
        {
            if (s[i][j] == '#')
            {
                if (upper == -1) upper = i;
                lower = i;
            }
        }
    }
    for (int n = 0; n <= 9; n++)
    {
        int success = 1;
        for (int i = upper; i <= lower; i++)
        {
            for (int j = l; j <= r; j++)
            {
                if (s[i][j] != (numbers[n].p)[i - upper][j - l])
                {
                    success = 0;
                    break;
                }
            }
            if (!success) break;
        }
        if (success)
        {
            ans[ans_count++] = n;
            break;
        }
    }
}

int main() {
    for (int i = 0; i < 50; i++) scanf("%100s", s[i]);
    int u = -1, l = 51;
    for (int i = 0; i < 50; i++) {
        for (int j = 0; j < 100; j++) {
            if (s[i][j] == '#') {
                if (u == -1) u = i;
                l = i;
            }
        }
    }

    for (int line = 99; line >= 0; line--)
    {
        int allBlank = 1;
        for (int i = u; i <= l; i++)
        {
            if (s[i][line] == '#')
            {
                allBlank = 0;
                break;
            }
        }
        if (allBlank)
            for (int i = u; i <= l; i++)
                s[i][line] = '?';
    }
    int cnt = 0;
    for (int cols = 99; cols >= 0; cols--)
    {
        if (s[u][cols] != '?')
        {
            int c = cols;
            while (s[u][cols] != '?') cols--;
            cols++;
            recoginze(cols, c);
            cnt++;
        }
        if (cnt == 5) break;
    }
    printf("%d %d\n", u, l);
    for (int i = ans_count - 1; i >= 0; i--)
        printf("%d ", ans[i]);
}